<!DOCTYPE HTML>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--https://developer.twitter.com/en/docs/twitter-for-websites/cards/overview/summary-->
<!--https://cards-dev.twitter.com/validator-->
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@HTHTHEPODCAST" />
<meta name="twitter:title" content="HTH Blog: Backing Up Your Data" />
<meta name="twitter:description" content="What's a good backup strategy for your own data?" />
<meta name="twitter:image" content="../images/backupwithnas.png" />
<meta name="twitter:image:alt" content="Diagram of a backup scheme with a NAS" />
<link href="../css/style.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="http://www.google.com/cse/style/look/default.css" type="text/css" /> <!--Google Search at bottom-->
<title>HTH Blog: Backing Up Your Data</title>

<!--For top menu-->
<link rel="stylesheet" type="text/css" href="../css/anylinkmenu.css" />
<script src="../javascript/menucontents.js"></script>
<script src="../javascript/anylinkmenu.js">
//***********************************************
//* AnyLink JS Drop Down Menu v2.0- Â© Dynamic Drive DHTML code library (www.dynamicdrive.com)
//* This notice MUST stay intact for legal use
//* Visit Project Page at http://www.dynamicdrive.com/dynamicindex1/dropmenuindex.htm for full source code
//***********************************************/
</script>
<script>
//anylinkmenu.init("menu_anchors_class") //Pass in the CSS class of anchor links (that contain a sub menu)
//Uncomment/comment these inits as needed based on your menu bar below.
anylinkmenu.init("menuanchorclass")
anylinkmenu.init("menuanchorclass2")
anylinkmenu.init("menuanchorclass3")
anylinkmenu.init("menuanchorclass4")
anylinkmenu.init("menuanchorclass5")
//anylinkmenu.init("menuanchorclass6")
//anylinkmenu.init("menuanchorclass7")
//anylinkmenu.init("menuanchorclass8")
</script>
<!--End for top menu-->

<style>
#content {width: 100%;} /* For pages without the left navbar - fills up entirety of page width */
</style>

</head>
<body>

<div id="capstonebar">

	<div id="capstonebar_inner">

    <!--Google Search Box, or search link if no javascript enabled-->
    <!--<div id="searchlink" style="float:right;"><a class="capstonebarlink" href="javascript:;" onClick="document.getElementById('cse-search-form').style.display='inline';">Search</a></div>
    <noscript><div id="searchlink" style="float:right;"><a class="capstonebarlink" href="searchresults.html">Search</a></div></noscript>

    <div id="cse-search-form" style="width:20%; float:right; display:none;">Loading</div>-->

    <!--***Drop Script code here***-->

    <!--End Google Search Box-->

    <p>
        <a href="../index.html"><img src="../images/hthlogo15.png" alt="HTH" title="HTH Home" width="15" height="15" /></a>&nbsp;&nbsp;
        <span class="capstonebarlinkcurrentpage">Hope This Helps</span>
        |&nbsp;<iframe src="https://duckduckgo.com/search.html?width=150&site=hthpc.com !g&prefill=Search&bgcolor=FFF" style="overflow:visible;margin:0;padding:0;width:208px;height:20px;" frameborder="0"></iframe>
        |&nbsp;<a class="capstonebarlink" href="https://anchor.fm/hope-this-helps" target="_blank">Anchor</a>
        |&nbsp;<a class="capstonebarlink" href="https://podcasts.apple.com/us/podcast/hope-this-helps/id1492373157" target="_blank">iTunes</a>
        |&nbsp;<a class="capstonebarlink" href="https://open.spotify.com/show/1Yedsm23LoF35w6LyivMmh" target="_blank">Spotify</a>
        |&nbsp;<a class="capstonebarlink" href="https://overcast.fm/itunes1492373157/hope-this-helps" target="_blank">Overcast</a>
        |&nbsp;<a class="capstonebarlink" href="https://twitter.com/HTHTHEPODCAST" target="_blank">Twitter</a>
        |&nbsp;<a class="capstonebarlink" href="https://www.twitch.tv/hopethishelps" target="_blank">Twitch</a>
        |&nbsp;<a class="capstonebarlink" href="https://anchor.fm/s/11b35770/podcast/rss" target="_blank">RSS</a>
		|&nbsp;<a class="capstonebarlink" href="https://reddit.com/r/hopethishelpspodcast" target="_blank">Reddit</a>
    </p>

	</div>

</div>




<div id="main_wrapper">

<div id = "header">
	<div id = "header_inner">

    <a href="../index.html"><img src="../images/logo.PNG" class="banner" alt="Logo"></a><br /><br />
    <!--If you want to use the image map code (commented out at bottom), add  usemap="#bannermap" to the end of the above image code.-->

    		<!-- Begin Navigation -->
            <!--The Rollover inserts are just for show, remove/insert them however you want.-->
            <div class="topnavbar" style="text-align:center;">
                <a href="../about.html" class="menuanchorclass" >About</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="../shownotes/index.html" class="menuanchorclass2" data-id="anylinkmenu1">Show Notes</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="../codesnippets/index.html" class="menuanchorclass3" >Code Snippets</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				<a href="../blog/index.html" class="menuanchorclass4" >Blog</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="../live.html" class="menuanchorclass5" >Live</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </div>
            <!-- End Navigation -->

    </div>
</div>

<!-- <div id = "nav">

	<div id = "nav_inner">

		<p><a class="leftnavlink" href="#">Link here</a></p>

	</div>

</div> -->

<div id = "content">

	<div id = "content_inner">

        <article>
        <h2>Backing Up Your Data</h2>
        <h3>Author: Steve</h3>

        <h4>A follow-up to a topic from <a href="../shownotes/HTH0005.html" target="_blank">HTH0005</a></h4>

        <p>Backing up data in a coherent way is hard. Harder than you'd think it should be. You could always copy things to a separate drive and call it a day, but you have to start factoring in all the possible scenarios where this gets thwarted. What if the building containing both your production and backup data burns down or floods? What if the backup drive fails? Questions like these are why you need to consider how and where you back things up.</p>
        
        <p>Luckily, this has been asked and answered many a time. A standard you can rally behind is called the backup "<a href="https://www.solarwindsmsp.com/blog/backup-rule-3-simplifying-backup-and-dr-3-easy-steps" target="_blank">rule of three</a>." In summary, the rule of three states that you shall have three copies of your data, on at least two different forms of physical media, with at least one of those forms residing offsite.</p>
        
        <p>In the home scenario, you could maintain your three copies by counting your live production data, onsite backup data, and offsite backup data. For software, I have used <a href="https://www.2brightsparks.com/syncback/sbfree-new.html" target="_blank">SyncBack</a> to set up backup profiles, but also dabble in <a href="https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/robocopy" target="_blank">robocopy</a> or <a href="https://www.samba.org/ftp/rsync/rsync.html" target="_blank">rsync</a> to achieve the same goal. What you use will depend on what you are comfortable with.</p>
        
        <p>Before I had a NAS, I would utilize SyncBack to create profiles for the data I wished to back up on my desktop. I would plug my onsite USB external backup drive into the desktop, and run the profiles to back up the data.</p>
        
        <p>The below image represents my "Pre-NAS" setup:</p>
        <p><img src="../images/backupnonas.png" style="height: 90%; width: 90%;" alt="Backup Workflow - No NAS"></p>
        
        <p>After getting a NAS and moving the majority of my data to it, I slightly changed the way I backed up my data to try to base the backup operations out of the NAS rather than the desktop. My desktop now has a significantly smaller data footprint, and due to this, I now simply copy this data to a "Backup" share on my NAS which acts as a "job pickup" location. Once the desktop data is backed up to the NAS, I plug the "level 1" external USB drive to the NAS on a free USB port and run rsync to copy the data over.</p>
        
        <p>The below image represents my setup with a NAS included:</p>
        <p><img src="../images/backupwithnas.png" style="height: 90%; width: 90%;" alt="Backup Workflow - With NAS"></p>
        
        <p>Here's an example of an rsync command I run on the NAS after all is said and done (I omitted the commands used to mount the disk for simplicity's sake. If you are interested in the commands to mount a disk in Linux, I recommend <a href="https://linuxconfig.org/howto-mount-usb-drive-in-linux" target="_blank">this article</a>):</p>
        <p><code style="font-size:9px;">rsync -avzh --delete --log-file="/media/usb-drive/Backup/NAS Backup/rsyncBackupLogBackup.txt" "/srv/dev-disk-by-label-Data/Backup" "/media/usb-drive/Backup/NAS Backup/" --exclude 'Thumbs.db' --exclude 'desktop.ini' --exclude '.DS_Store' --exclude 'Folder.jpg' --progress</code></p>
        
        <p>This particular rysnc command will back up the "job pickup" share named "Backup" on the NAS to a specified location on the external drive (with the mount represented as /media/usb-drive), logging the command output to a folder on said external drive. It also excludes useless files like Thumbs.db, desktop.ini, .DS_Store, and Folder.jpg to keep things tidy on the backup side. This command will copy files in an incremental fashion (skipping over files/folders that have not changed), which saves time.</p>
        
        <p>I have additional rsync commands to back up the remaining native data on the NAS to the external USB drive. These commands are very, very similar to the above one, just with different corresponding source and destination directories</p>
        
        <p>So you have backed up your data to an external drive. Now you need to think of your third entity in your backup rule of three: The offsite copy. I approach this by having a second external disk with storage capacity equal to the first external backup disk. For the majority of its life, this disk lives at an remote location nearby a computer that can perform the "backup of the backup."</p>
        
        <p>Once a week I would physically bring the first backup drive over to the offsite location. I plug both into a computer running SyncBack with profiles to do a differential backup (AKA copy only the data that changed from the last time the backup was run, to save time and disk utilization). After the job is complete, I bring the first backup drive back home. Repeat 7 days later ad infinitum.</p>
        
        <p>This setup ensures you have a local backup of your data as well as maintain a remote offsite backup which is crucial for disaster recovery. To further refine this process, you could instead have a site-to-site VPN connection with a path to the offsite disk to eliminate the physical trips to perform the data backup. For the purpose of this article however, I elected to keep it simple. There is no single right way to perform a data backup, and the intention here is to inspire you to come up with your own solution based on my experience.</p>
        
        <p>Hope this helps!</p>   
        </article>     
	</div>

</div>



<div id = "footer">

	<div id = "footer_inner">

    <!--Javascript footer, to edit this, edit "javascript/footer.js"-->
	<script src="../javascript/footer.js"></script>

    <noscript>
    It appears you have Javascript disabled in your browser or something is blocking it.<br />
    If you enable it, this site will have extra visual features. If not, that's cool too.
    </noscript>

	</div>

</div>


</div> <!--End Main Wrapper-->

    <!--Image map for above banner, makes different regions click to different links:-->
    <!--It's way down here because if it is put up above, it creates a weird clump of space-->
    <!--This is commented out because you probably won't need this, but it's here if you do. It makes parts of the top banner clickable in areas you specify.-->
    <!--<map name="bannermap">
  	<area shape="rect" coords="0,-1,600,199" href="index.html" alt="OSIL Home"/>
    <area shape="rect" coords="600,0,1024,200" href="http://www.something.com/" alt="Something" />
	</map>-->

</body>
</html>
